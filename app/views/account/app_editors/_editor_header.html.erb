<div class="bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center justify-between">
  <div class="flex items-center space-x-4">
    <!-- File Switcher Dropdown -->
    <div class="relative" data-controller="dropdown">
      <button class="flex items-center space-x-2 text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1.5 rounded"
              data-action="click->dropdown#toggle">
        <i class="<%= file_extension_icon(@selected_file&.path || 'index.html') %>"></i>
        <span class="text-gray-300"><%= @selected_file&.path || 'Select a file' %></span>
        <i class="fas fa-chevron-down text-xs text-gray-400"></i>
      </button>
      
      <div class="absolute top-full left-0 mt-1 bg-gray-800 border border-gray-700 rounded shadow-lg min-w-[200px] hidden"
           data-dropdown-target="menu">
        <% @files.each do |file| %>
          <%= link_to account_app_editor_path(@app, file_id: file.id), 
              class: "flex items-center space-x-2 px-3 py-2 hover:bg-gray-700 #{'bg-gray-700' if file == @selected_file}",
              data: { turbo_frame: "_top" } do %>
            <i class="<%= file_extension_icon(file.path) %>"></i>
            <span class="text-sm text-gray-300"><%= file.path %></span>
          <% end %>
        <% end %>
      </div>
    </div>
    
    <!-- Toggle Files Panel -->
    <button class="text-sm text-gray-400 hover:text-white px-3 py-1.5 rounded hover:bg-gray-700"
            data-controller="panel-toggle"
            data-action="click->panel-toggle#toggle"
            data-panel-toggle-target="button">
      <i class="fas fa-folder-tree mr-2"></i>
      <span data-panel-toggle-target="label">Show Files</span>
    </button>
  </div>
  
  <div class="flex items-center space-x-2">
    <button class="text-sm bg-primary-600 text-white px-3 py-1.5 rounded hover:bg-primary-700">
      <i class="fas fa-save mr-1"></i> Save
    </button>
  </div>
</div>