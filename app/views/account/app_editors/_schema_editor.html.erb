<div class="h-full flex bg-gray-50 dark:bg-gray-900" 
     data-controller="database-schema-editor"
     data-database-schema-editor-app-id-value="<%= app.id %>">
  
  <!-- Toolbar -->
  <div class="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col">
    <div class="p-4 border-b border-gray-200 dark:border-gray-700">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Database Schema</h2>
      <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Visual database designer</p>
    </div>
    
    <!-- Tools -->
    <div class="p-4 space-y-4" data-database-schema-editor-target="toolbar">
      <button class="w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center"
              data-action="click->database-schema-editor#createTable">
        <i class="fas fa-plus mr-2"></i>
        Create Table
      </button>
      
      <div class="space-y-2">
        <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300">Common Tables</h3>
        
        <button class="w-full text-left px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600"
                data-action="click->database-schema-editor#createUsersTable">
          <i class="fas fa-users mr-2 text-gray-500"></i>
          Users Table
        </button>
        
        <button class="w-full text-left px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600"
                data-action="click->database-schema-editor#createPostsTable">
          <i class="fas fa-newspaper mr-2 text-gray-500"></i>
          Posts Table
        </button>
        
        <button class="w-full text-left px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600"
                data-action="click->database-schema-editor#createCommentsTable">
          <i class="fas fa-comments mr-2 text-gray-500"></i>
          Comments Table
        </button>
      </div>
      
      <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
        <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tips</h3>
        <ul class="text-xs text-gray-600 dark:text-gray-400 space-y-1">
          <li>• Drag tables to organize</li>
          <li>• Click a table to see details</li>
          <li>• Add columns with the + button</li>
        </ul>
      </div>
    </div>
    
    <!-- Table Properties (hidden by default) -->
    <div class="flex-1 border-t border-gray-200 dark:border-gray-700 hidden" 
         data-database-schema-editor-target="properties">
      <!-- Properties will be inserted here -->
    </div>
  </div>
  
  <!-- Canvas -->
  <div class="flex-1 relative overflow-auto bg-gray-50 dark:bg-gray-900"
       data-database-schema-editor-target="canvas">
    <!-- Tables will be added here -->
  </div>
  
  <!-- Hidden Templates -->
  <template data-database-schema-editor-target="tableTemplate">
    <div class="absolute bg-white dark:bg-gray-800 rounded-lg shadow-lg border-2 border-gray-200 dark:border-gray-700 cursor-move select-none" style="width: 250px;">
      <div class="px-4 py-3 bg-gray-50 dark:bg-gray-900 rounded-t-lg border-b border-gray-200 dark:border-gray-700">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold text-gray-900 dark:text-white">[TABLE_NAME]</h3>
          <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
            <i class="fas fa-times text-xs"></i>
          </button>
        </div>
      </div>
      <div class="p-3 space-y-1">
        <!-- Columns -->
      </div>
    </div>
  </template>
</div>