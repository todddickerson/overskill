<%# Phase timeline item with status and animations %>
<div class="flex items-start space-x-3 animate-slide-in"
     data-controller="phase-item"
     data-phase-item-number-value="<%= phase_number %>"
     data-phase-item-status-value="<%= status %>">
  
  <%# Phase number circle %>
  <div class="flex-shrink-0">
    <div class="relative">
      <% if status == 'completed' %>
        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center animate-scale-in">
          <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
          </svg>
        </div>
      <% elsif status == 'in_progress' %>
        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
          <span class="text-white text-sm font-semibold animate-pulse"><%= phase_number %></span>
          <div class="absolute inset-0 rounded-full border-2 border-blue-500 animate-ping opacity-75"></div>
        </div>
      <% else %>
        <div class="w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center">
          <span class="text-gray-600 dark:text-gray-300 text-sm font-semibold"><%= phase_number %></span>
        </div>
      <% end %>
    </div>
  </div>
  
  <%# Phase details %>
  <div class="flex-1 min-w-0 pb-4">
    <div class="flex items-center justify-between">
      <h4 class="text-sm font-medium text-gray-900 dark:text-gray-100">
        <%= phase_name %>
      </h4>
      <% if defined?(timestamp) && timestamp %>
        <time class="text-xs text-gray-500 dark:text-gray-400" datetime="<%= timestamp.iso8601 %>">
          <%= timestamp.strftime("%H:%M:%S") %>
        </time>
      <% end %>
    </div>
    
    <% if status == 'in_progress' %>
      <div class="mt-2">
        <div class="flex space-x-1">
          <div class="w-1 h-1 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0s"></div>
          <div class="w-1 h-1 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
          <div class="w-1 h-1 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
        </div>
      </div>
    <% end %>
  </div>
</div>