<!DOCTYPE html>
<html class="theme-<%= BulletTrain::Themes::Light.color %> <%= "theme-secondary-#{BulletTrain::Themes::Light.secondary_color}" if BulletTrain::Themes::Light.secondary_color %>" lang="<%= I18n.locale %>">
  <head>
    <%= render 'shared/layouts/head' %>
    <style>
      /* Editor-specific styles */
      .monaco-editor { font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; }
      #preview_frame { background: white; }
    </style>
  </head>
  <body class="min-h-screen bg-gray-900 text-slate-300 text-sm font-normal">
    <div class="h-screen flex flex-col">
      <%= yield %>
    </div>
    
    <%= turbo_frame_tag "modal" %>
    <% if flash.any? %>
      <div id="flash" class="fixed top-4 right-4 z-50 space-y-2">
        <% flash.each do |type, message| %>
          <% color = type.to_s == 'notice' ? 'green' : 'red' %>
          <div class="bg-<%= color %>-100 border border-<%= color %>-400 text-<%= color %>-700 px-4 py-3 rounded relative" role="alert" data-turbo-temporary>
            <span class="block sm:inline"><%= message %></span>
            <button type="button" class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="this.parentElement.remove()">
              <svg class="fill-current h-6 w-6 text-<%= color %>-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <title>Close</title>
                <path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/>
              </svg>
            </button>
          </div>
        <% end %>
      </div>
    <% end %>
  </body>
</html>